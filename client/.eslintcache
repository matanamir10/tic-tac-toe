[{"C:\\repo\\tic tac toe\\client\\src\\index.js":"1","C:\\repo\\tic tac toe\\client\\src\\containers\\App\\App.js":"2","C:\\repo\\tic tac toe\\client\\src\\containers\\Game\\Game.js":"3","C:\\repo\\tic tac toe\\client\\src\\components\\Board\\Board.js":"4","C:\\repo\\tic tac toe\\client\\src\\components\\Square\\Square.js":"5","C:\\repo\\tic tac toe\\client\\src\\components\\MatchDetails\\MatchDetails.js":"6","C:\\repo\\tic tac toe\\client\\src\\models\\Square.js":"7","C:\\repo\\tic tac toe\\client\\src\\ErrorBoundary\\ErrorBoundary.js":"8","C:\\repo\\tic tac toe\\client\\src\\context\\Oponent.js":"9","C:\\repo\\tic tac toe\\client\\src\\constants\\Player.js":"10","C:\\repo\\tic tac toe\\client\\src\\constants\\WinningOptions.js":"11","C:\\repo\\tic tac toe\\client\\src\\socket.js":"12","C:\\repo\\tic tac toe\\client\\src\\containers\\Setup\\Setup.js":"13","C:\\repo\\tic tac toe\\client\\src\\hoc\\withWindowReload.js":"14","C:\\repo\\tic tac toe\\client\\src\\UI\\Button\\Button.js":"15","C:\\repo\\tic tac toe\\client\\src\\hooks\\useUnload.js":"16"},{"size":527,"mtime":1608371959697,"results":"17","hashOfConfig":"18"},{"size":1253,"mtime":1608375267865,"results":"19","hashOfConfig":"18"},{"size":3460,"mtime":1608375019365,"results":"20","hashOfConfig":"18"},{"size":1391,"mtime":1608331341508,"results":"21","hashOfConfig":"18"},{"size":516,"mtime":1608369094536,"results":"22","hashOfConfig":"18"},{"size":555,"mtime":1608329572694,"results":"23","hashOfConfig":"18"},{"size":157,"mtime":1608290748473,"results":"24","hashOfConfig":"18"},{"size":555,"mtime":1608331121891,"results":"25","hashOfConfig":"18"},{"size":841,"mtime":1608326404494,"results":"26","hashOfConfig":"18"},{"size":49,"mtime":1608290748462,"results":"27","hashOfConfig":"18"},{"size":167,"mtime":1608290748466,"results":"28","hashOfConfig":"18"},{"size":354,"mtime":1608328322783,"results":"29","hashOfConfig":"18"},{"size":1265,"mtime":1608375019247,"results":"30","hashOfConfig":"18"},{"size":355,"mtime":1608375590552,"results":"31","hashOfConfig":"18"},{"size":367,"mtime":1608373061648,"results":"32","hashOfConfig":"18"},{"size":370,"mtime":1608375588066,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"3z0b8z",{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"41"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\repo\\tic tac toe\\client\\src\\index.js",[],"C:\\repo\\tic tac toe\\client\\src\\containers\\App\\App.js",[],"C:\\repo\\tic tac toe\\client\\src\\containers\\Game\\Game.js",["69","70"],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./Game.scss\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Board } from \"../../components/Board/Board\";\r\nimport { MatchDetails } from \"../../components/MatchDetails/MatchDetails\";\r\nimport { Square } from \"../../models/Square\";\r\nimport { OponentContext } from \"../../context/Oponent\";\r\nimport { winningOptions } from \"../../constants/WinningOptions\";\r\nimport socketConnection from \"../../socket\";\r\nimport { withWindowReload } from \"../../hoc/withWindowReload\";\r\n\r\nconst initalSquares = [];\r\nfor (let i = 0; i < 9; i++) {\r\n  initalSquares[i] = new Square(i, null, false);\r\n}\r\n\r\nlet clickedIndex = null;\r\n\r\nconst Game = () => {\r\n  const [squares, setSquares] = useState(initalSquares);\r\n  const { turn, setPlayerTurn, player, setPlayerType, setGame } = useContext(\r\n    OponentContext\r\n  );\r\n\r\n  const socket = socketConnection.getSocket();\r\n\r\n  const onSquareClicked = (index, playerType) => {\r\n    clickedIndex = index;\r\n    setSquares((prevSquares) =>\r\n      prevSquares.map((square, currIndex) => {\r\n        if (currIndex === index) {\r\n          return {\r\n            ...square,\r\n            value: playerType,\r\n            isChecked: true,\r\n          };\r\n        }\r\n        return square;\r\n      })\r\n    );\r\n  };\r\n\r\n  const checkForWin = () => {\r\n    let isWinner = null;\r\n    for (const option of winningOptions) {\r\n      const [first, second, third] = option;\r\n      isWinner =\r\n        squares[first].value &&\r\n        squares[first].value === squares[second].value &&\r\n        squares[first].value === squares[third].value\r\n          ? squares[first].value\r\n          : null;\r\n      if (isWinner) {\r\n        break;\r\n      }\r\n    }\r\n    return isWinner;\r\n  };\r\n\r\n  const checkDraw = () => {\r\n    return squares.every((sq) => sq.value !== null);\r\n  };\r\n\r\n  const notifyEndOfGame = () => {\r\n    socket.emit(\"endGame\");\r\n    setPlayerTurn(false);\r\n  };\r\n\r\n  const closeGame = () => {\r\n    setGame(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"turn\", turn);\r\n    console.log(\"squares\", squares);\r\n\r\n    if (turn) {\r\n      setPlayerTurn(false);\r\n      socket.emit(\"move\", clickedIndex);\r\n    }\r\n\r\n    let winner = checkForWin();\r\n    if (winner || checkDraw()) {\r\n      if (winner) {\r\n        notifyEndOfGame();\r\n        toast.info(`The winner is: ${winner}`, {\r\n          autoClose: 3000,\r\n          onClose: closeGame,\r\n          pauseOnHover: false,\r\n        });\r\n      } else {\r\n        notifyEndOfGame();\r\n        toast.info(\"Great draw\", {\r\n          autoClose: 3000,\r\n          onClose: closeGame,\r\n          pauseOnHover: false,\r\n        });\r\n      }\r\n    }\r\n  }, [squares]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"player\", (player) => {\r\n      setPlayerType(player);\r\n    });\r\n\r\n    socket.on(\"act\", () => {\r\n      setPlayerTurn(true);\r\n    });\r\n\r\n    socket.on(\"updateBoard\", (data) => {\r\n      onSquareClicked(data.index, data.player);\r\n    });\r\n\r\n    socket.on(\"leave\", () => {\r\n      toast.info(\"Oponent leaved\", { autoClose: 3000, pauseOnHover: false });\r\n      closeGame();\r\n    });\r\n\r\n    socket.emit(\"ready\");\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"game\">\r\n      <MatchDetails />\r\n      <Board\r\n        disabled={!turn}\r\n        squares={squares}\r\n        player={player}\r\n        onSquareClicked={onSquareClicked}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withWindowReload(Game);\r\n",["71","72"],"C:\\repo\\tic tac toe\\client\\src\\components\\Board\\Board.js",[],"C:\\repo\\tic tac toe\\client\\src\\components\\Square\\Square.js",[],"C:\\repo\\tic tac toe\\client\\src\\components\\MatchDetails\\MatchDetails.js",[],"C:\\repo\\tic tac toe\\client\\src\\models\\Square.js",[],"C:\\repo\\tic tac toe\\client\\src\\ErrorBoundary\\ErrorBoundary.js",[],"C:\\repo\\tic tac toe\\client\\src\\context\\Oponent.js",["73"],"import React, { useState } from \"react\";\r\nimport { Player } from \"../constants/Player\";\r\n\r\nexport const OponentContext = React.createContext();\r\n\r\nexport const OponentProvider = (props) => {\r\n  const [isGameAvailable, setIsGameAvaliable] = useState(false);\r\n  const [turn, setTurn] = useState(false);\r\n  const [player, setPlayer] = useState(null);\r\n\r\n  const setPlayerTurn = (myTurn) => setTurn(myTurn);\r\n\r\n  const setGame = (state) => setIsGameAvaliable(state);\r\n\r\n  const setPlayerType = (type) => {\r\n    console.log(\"Player type is:\", type);\r\n    setPlayer(type);\r\n  };\r\n\r\n  return (\r\n    <OponentContext.Provider\r\n      value={{\r\n        turn,\r\n        setPlayerTurn,\r\n        player,\r\n        setPlayerType,\r\n        isGameAvailable,\r\n        setGame,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </OponentContext.Provider>\r\n  );\r\n};\r\n","C:\\repo\\tic tac toe\\client\\src\\constants\\Player.js",[],"C:\\repo\\tic tac toe\\client\\src\\constants\\WinningOptions.js",[],"C:\\repo\\tic tac toe\\client\\src\\socket.js",[],"C:\\repo\\tic tac toe\\client\\src\\containers\\Setup\\Setup.js",[],"C:\\repo\\tic tac toe\\client\\src\\hoc\\withWindowReload.js",[],"C:\\repo\\tic tac toe\\client\\src\\UI\\Button\\Button.js",[],"C:\\repo\\tic tac toe\\client\\src\\hooks\\useUnload.js",[],{"ruleId":"74","severity":1,"message":"75","line":98,"column":6,"nodeType":"76","endLine":98,"endColumn":15,"suggestions":"77"},{"ruleId":"74","severity":1,"message":"78","line":123,"column":6,"nodeType":"76","endLine":123,"endColumn":8,"suggestions":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","severity":1,"message":"85","line":2,"column":10,"nodeType":"86","messageId":"87","endLine":2,"endColumn":16},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'checkDraw', 'checkForWin', 'closeGame', 'notifyEndOfGame', 'setPlayerTurn', 'socket', and 'turn'. Either include them or remove the dependency array.","ArrayExpression",["88"],"React Hook useEffect has missing dependencies: 'closeGame', 'setPlayerTurn', 'setPlayerType', and 'socket'. Either include them or remove the dependency array.",["89"],"no-native-reassign",["90"],"no-negated-in-lhs",["91"],"no-unused-vars","'Player' is defined but never used.","Identifier","unusedVar",{"desc":"92","fix":"93"},{"desc":"94","fix":"95"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [checkDraw, checkForWin, closeGame, notifyEndOfGame, setPlayerTurn, socket, squares, turn]",{"range":"96","text":"97"},"Update the dependencies array to be: [closeGame, setPlayerTurn, setPlayerType, socket]",{"range":"98","text":"99"},[2596,2605],"[checkDraw, checkForWin, closeGame, notifyEndOfGame, setPlayerTurn, socket, squares, turn]",[3073,3075],"[closeGame, setPlayerTurn, setPlayerType, socket]"]