[{"C:\\repo\\tic tac toe\\client\\src\\index.js":"1","C:\\repo\\tic tac toe\\client\\src\\containers\\App\\App.js":"2","C:\\repo\\tic tac toe\\client\\src\\containers\\Game\\Game.js":"3","C:\\repo\\tic tac toe\\client\\src\\components\\Board\\Board.js":"4","C:\\repo\\tic tac toe\\client\\src\\components\\Square\\Square.js":"5","C:\\repo\\tic tac toe\\client\\src\\components\\MatchDetails\\MatchDetails.js":"6","C:\\repo\\tic tac toe\\client\\src\\models\\Square.js":"7","C:\\repo\\tic tac toe\\client\\src\\ErrorBoundary\\ErrorBoundary.js":"8","C:\\repo\\tic tac toe\\client\\src\\context\\Oponent.js":"9","C:\\repo\\tic tac toe\\client\\src\\constants\\Player.js":"10","C:\\repo\\tic tac toe\\client\\src\\constants\\WinningOptions.js":"11","C:\\repo\\tic tac toe\\client\\src\\socket.js":"12","C:\\repo\\tic tac toe\\client\\src\\containers\\Setup\\Setup.js":"13"},{"size":460,"mtime":1608301715306,"results":"14","hashOfConfig":"15"},{"size":1161,"mtime":1608328814564,"results":"16","hashOfConfig":"15"},{"size":3298,"mtime":1608328685688,"results":"17","hashOfConfig":"15"},{"size":1612,"mtime":1608311152669,"results":"18","hashOfConfig":"15"},{"size":485,"mtime":1608328030184,"results":"19","hashOfConfig":"15"},{"size":555,"mtime":1608329572694,"results":"20","hashOfConfig":"15"},{"size":157,"mtime":1608290748473,"results":"21","hashOfConfig":"15"},{"size":600,"mtime":1608290748457,"results":"22","hashOfConfig":"15"},{"size":841,"mtime":1608326404494,"results":"23","hashOfConfig":"15"},{"size":49,"mtime":1608290748462,"results":"24","hashOfConfig":"15"},{"size":167,"mtime":1608290748466,"results":"25","hashOfConfig":"15"},{"size":354,"mtime":1608328322783,"results":"26","hashOfConfig":"15"},{"size":1289,"mtime":1608330973096,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"3z0b8z",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"30"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\repo\\tic tac toe\\client\\src\\index.js",[],["57","58"],"C:\\repo\\tic tac toe\\client\\src\\containers\\App\\App.js",[],"C:\\repo\\tic tac toe\\client\\src\\containers\\Game\\Game.js",["59","60"],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./Game.scss\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Board } from \"../../components/Board/Board\";\r\nimport { MatchDetails } from \"../../components/MatchDetails/MatchDetails\";\r\nimport { Square } from \"../../models/Square\";\r\nimport { OponentContext } from \"../../context/Oponent\";\r\nimport { winningOptions } from \"../../constants/WinningOptions\";\r\nimport socketConnection from \"../../socket\";\r\n\r\nconst initalSquares = [];\r\nfor (let i = 0; i < 9; i++) {\r\n  initalSquares[i] = new Square(i, null, false);\r\n}\r\n\r\nlet clickedINdex = null;\r\n\r\nexport const Game = () => {\r\n  const [squares, setSquares] = useState(initalSquares);\r\n  const { turn, setPlayerTurn, player, setPlayerType, setGame } = useContext(\r\n    OponentContext\r\n  );\r\n  const socket = socketConnection.getSocket();\r\n\r\n  const onSquareClicked = (index, playerType) => {\r\n    console.log(\"onSquareClicked\", playerType);\r\n    clickedINdex = index;\r\n    setSquares((prevSquares) =>\r\n      prevSquares.map((square, currIndex) => {\r\n        if (currIndex === index) {\r\n          return {\r\n            ...square,\r\n            value: playerType,\r\n            isChecked: true,\r\n          };\r\n        }\r\n        return square;\r\n      })\r\n    );\r\n  };\r\n\r\n  const checkForWin = () => {\r\n    console.log(squares);\r\n    let isWinner = null;\r\n    for (const option of winningOptions) {\r\n      const [first, second, third] = option;\r\n      isWinner =\r\n        squares[first].value &&\r\n        squares[first].value === squares[second].value &&\r\n        squares[first].value === squares[third].value\r\n          ? squares[first].value\r\n          : null;\r\n      if (isWinner) {\r\n        break;\r\n      }\r\n    }\r\n    return isWinner;\r\n  };\r\n\r\n  const checkDraw = () => {\r\n    return squares.every((sq) => sq.value !== null);\r\n  };\r\n\r\n  const closeGame = () => {\r\n    socket.emit(\"winner\");\r\n    setGame(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (turn) {\r\n      setPlayerTurn(false);\r\n      socket.emit(\"move\", clickedINdex);\r\n    }\r\n\r\n    let winner = checkForWin();\r\n    if (winner || checkDraw()) {\r\n      if (winner) {\r\n        toast.info(`The winner is: ${winner}`, {\r\n          autoClose: 3000,\r\n          onClose: closeGame,\r\n        });\r\n      } else {\r\n        toast.info(\"Great draw\", {\r\n          autoClose: 3000,\r\n          onClose: closeGame,\r\n        });\r\n      }\r\n    }\r\n  }, [squares]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"setup listners\");\r\n\r\n    socket.on(\"player\", (player) => {\r\n      console.log(\"Player\", player);\r\n      console.log(turn);\r\n      setPlayerType(player);\r\n    });\r\n    socket.on(\"act\", () => {\r\n      console.log(\"act\");\r\n      setPlayerTurn(true);\r\n    });\r\n\r\n    socket.on(\"updateBoard\", (data) => {\r\n      console.log(data);\r\n      console.log(\"updateBoard\");\r\n      console.log(data.index, data.player);\r\n      onSquareClicked(data.index, data.player);\r\n    });\r\n    socket.emit(\"ready\");\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"game\">\r\n      <MatchDetails />\r\n      <Board\r\n        disabled={!turn}\r\n        squares={squares}\r\n        player={player}\r\n        rows={3}\r\n        columns={3}\r\n        onSquareClicked={onSquareClicked}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","C:\\repo\\tic tac toe\\client\\src\\components\\Board\\Board.js",[],"C:\\repo\\tic tac toe\\client\\src\\components\\Square\\Square.js",[],"C:\\repo\\tic tac toe\\client\\src\\components\\MatchDetails\\MatchDetails.js",[],"C:\\repo\\tic tac toe\\client\\src\\models\\Square.js",[],"C:\\repo\\tic tac toe\\client\\src\\ErrorBoundary\\ErrorBoundary.js",[],"C:\\repo\\tic tac toe\\client\\src\\context\\Oponent.js",["61"],"import React, { useState } from \"react\";\r\nimport { Player } from \"../constants/Player\";\r\n\r\nexport const OponentContext = React.createContext();\r\n\r\nexport const OponentProvider = (props) => {\r\n  const [isGameAvailable, setIsGameAvaliable] = useState(false);\r\n  const [turn, setTurn] = useState(false);\r\n  const [player, setPlayer] = useState(null);\r\n\r\n  const setPlayerTurn = (myTurn) => setTurn(myTurn);\r\n\r\n  const setGame = (state) => setIsGameAvaliable(state);\r\n\r\n  const setPlayerType = (type) => {\r\n    console.log(\"Player type is:\", type);\r\n    setPlayer(type);\r\n  };\r\n\r\n  return (\r\n    <OponentContext.Provider\r\n      value={{\r\n        turn,\r\n        setPlayerTurn,\r\n        player,\r\n        setPlayerType,\r\n        isGameAvailable,\r\n        setGame,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </OponentContext.Provider>\r\n  );\r\n};\r\n","C:\\repo\\tic tac toe\\client\\src\\constants\\Player.js",[],"C:\\repo\\tic tac toe\\client\\src\\constants\\WinningOptions.js",[],"C:\\repo\\tic tac toe\\client\\src\\socket.js",[],"C:\\repo\\tic tac toe\\client\\src\\containers\\Setup\\Setup.js",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":89,"column":6,"nodeType":"68","endLine":89,"endColumn":15,"suggestions":"69"},{"ruleId":"66","severity":1,"message":"70","line":114,"column":6,"nodeType":"68","endLine":114,"endColumn":8,"suggestions":"71"},{"ruleId":"72","severity":1,"message":"73","line":2,"column":10,"nodeType":"74","messageId":"75","endLine":2,"endColumn":16},"no-native-reassign",["76"],"no-negated-in-lhs",["77"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'checkDraw', 'checkForWin', 'closeGame', 'setPlayerTurn', 'socket', and 'turn'. Either include them or remove the dependency array.","ArrayExpression",["78"],"React Hook useEffect has missing dependencies: 'setPlayerTurn', 'setPlayerType', 'socket', and 'turn'. Either include them or remove the dependency array.",["79"],"no-unused-vars","'Player' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"80","fix":"81"},{"desc":"82","fix":"83"},"Update the dependencies array to be: [checkDraw, checkForWin, closeGame, setPlayerTurn, socket, squares, turn]",{"range":"84","text":"85"},"Update the dependencies array to be: [setPlayerTurn, setPlayerType, socket, turn]",{"range":"86","text":"87"},[2414,2423],"[checkDraw, checkForWin, closeGame, setPlayerTurn, socket, squares, turn]",[3020,3022],"[setPlayerTurn, setPlayerType, socket, turn]"]